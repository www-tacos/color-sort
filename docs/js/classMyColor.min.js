class RGB{R;G;B;RGB_MAX=255;constructor(t=null,s=null,r=null){t&&s&&r?this.set(t,s,r):this.setRandom()}set(t,s,r){const o=0<=t&&t<=this.RGB_MAX&&0<=s&&s<=this.RGB_MAX&&0<=r&&r<=this.RGB_MAX;if(!o)throw new Error(`Invalid arguments: RGB(${t}, ${s}, ${r})`);this.R=t,this.G=s,this.B=r}setRandom(){const t=Math.floor(Math.random()*this.RGB_MAX),s=Math.floor(Math.random()*this.RGB_MAX),r=Math.floor(Math.random()*this.RGB_MAX);this.set(t,s,r)}toString(){return`RGB(${this.R}, ${this.G}, ${this.B})`}}class HSV{H;S;V;H_MAX=359;S_MAX=255;V_MAX=255;constructor(t=null,s=null,r=null){t&&s&&r?this.set(t,s,r):this.setRandom()}set(t,s,r){const o=0<=(t=t==this.H_MAX+1?0:t)&&t<=this.H_MAX&&0<=s&&s<=this.S_MAX&&0<=r&&r<=this.V_MAX;if(!o)throw new Error(`Invalid arguments: HSV(${t}, ${s}, ${r})`);this.H=t,this.S=s,this.V=r}setRandom(){const t=Math.floor(Math.random()*this.H_MAX),s=Math.floor(Math.random()*this.S_MAX),r=Math.floor(Math.random()*this.V_MAX);this.set(t,s,r)}toString(){return`HSV(${this.H}, ${this.S}, ${this.V})`}}class Color{RGB;HSV;constructor(){this.RGB=new RGB,this.HSV=this.getHSVFromRGB(this.RGB)}toString(){return`[${this.getHex()}][${this.RGB}][${this.HSV}]`}getHex(){let t="#";for(const s of[this.RGB.R,this.RGB.G,this.RGB.B])t+=s.toString(16).padStart(2,"0");return t}setFromRGB(t,s,r){this.RGB.set(t,s,r),this.HSV=this.getHSVFromRGB(this.RGB)}setFromHSV(t,s,r){this.HSV.set(t,s,r),this.RGB=this.getRGBFromHSV(this.HSV)}setFromHex(t){t=t.slice(1);const s=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);this.RGB.set(s,r,o),this.HSV=this.getHSVFromRGB(this.RGB)}getHSVFromRGB(t){const s=new HSV,r=Math.max(t.R,t.G,t.B),o=Math.min(t.R,t.G,t.B);let h=0;t.R==t.G&&t.G==t.B?h=0:r==t.R?h=(t.G-t.B)/(r-o)*60:r==t.G?h=(t.B-t.R)/(r-o)*60+120:r==t.B&&(h=(t.R-t.G)/(r-o)*60+240),h=Math.round(h<0?h+360:h);const i=Math.round((r-o)/r*s.S_MAX),n=Math.round(r);return s.set(h,i,n),s}getRGBFromHSV(t){const s=new RGB,r=t.V,o=r-t.S/t.S_MAX*r,h=Math.floor(t.H/60),i=Math.abs(t.H-60*(h+h%2)),[n,e,a]={0:[r,i/60*(r-o)+o,o],1:[i/60*(r-o)+o,r,o],2:[o,r,i/60*(r-o)+o],3:[o,i/60*(r-o)+o,r],4:[i/60*(r-o)+o,o,r],5:[r,o,i/60*(r-o)+o]}[h];return s.set(n,e,a),s}static sorted(t,s=1){const r=new Array(s);for(let t=0;t<s;t++)r[t]=new Array;for(const o of t){const t=Math.floor(s*o.HSV.V/o.HSV.V_MAX);r[t].push(o)}for(const t of r)t.sort((t,s)=>t.HSV.H<s.HSV.H?1:t.HSV.H>s.HSV.H?-1:t.HSV.S<s.HSV.S?1:t.HSV.S>s.HSV.S?-1:0);return r[0].concat(...r.slice(1))}}